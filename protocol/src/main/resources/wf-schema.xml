<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<sbe:messageSchema xmlns:sbe="http://www.fixprotocol.org/ns/simple/RC3"
	package="org.camunda.tngp.protocol.wf" id="2" version="1"
	semanticVersion="0.1.0" description="Tngp Workflow Client Protocol" byteOrder="littleEndian">

	<types>
		<composite name="messageHeader"
			description="Message identifiers and length of message root">
			<type name="blockLength" primitiveType="uint16" />
			<type name="templateId" primitiveType="uint16" />
			<type name="schemaId" primitiveType="uint16" />
			<type name="version" primitiveType="uint16" />
			<type name="resourceId" primitiveType="uint16" />
			<type name="shardId" primitiveType="uint16" />
		</composite>
		<composite name="varDataEncoding">
			<type name="length" primitiveType="uint16" />
			<type name="varData" primitiveType="uint8" length="0"
				characterEncoding="UTF-8" />
		</composite>
		<composite name="groupSizeEncoding" description="Repeating group dimensions">
			<type name="blockLength" primitiveType="uint16" />
			<type name="numInGroup" primitiveType="uint8" semanticType="NumInGroup" />
		</composite>
	</types>

	<types>
	</types>

	<sbe:message name="DeployBpmnResource" id="0" description="Deploys new Bpmn Resource defining Workflow Types">
		<data name="resource" id="1" type="varDataEncoding" />
	</sbe:message>

	<sbe:message name="StartWorkflowInstance" id="1" description="Starts a new workflow instance">
		<field name="wfDefinitionId" id="1" type="uint64" />
		<data name="wfDefinitionKey" id="2" type="varDataEncoding" />
        <data name="payload" id="3" type="varDataEncoding" />
	</sbe:message>
	
	<sbe:message name="DeployBpmnResourceAck" id="200" description="Bpmn Resource has been successfully deployed">
		<field name="wfDefinitionId" id="1" type="uint64" />
	</sbe:message>
	
	<sbe:message name="StartWorkflowInstanceResponse" id="201" description="A new workflow instance has been started">
		<field name="id" id="1" type="uint64" />
	</sbe:message>

</sbe:messageSchema>